{"id":"88ac5dad-efd7-40bb-84fe-fbaefdee1fa9","revision":0,"last_node_id":76,"last_link_id":141,"nodes":[{"id":49,"type":"LatentApplyOperationCFG","pos":[940,-160],"size":[290,50],"flags":{"collapsed":false},"order":11,"mode":0,"inputs":[{"localized_name":"모델","name":"model","type":"MODEL","link":113},{"localized_name":"연산","name":"operation","type":"LATENT_OPERATION","link":114}],"outputs":[{"localized_name":"모델","name":"MODEL","type":"MODEL","links":[121]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.34","Node name for S&R":"LatentApplyOperationCFG"},"widgets_values":[]},{"id":64,"type":"LoadAudio","pos":[180,340],"size":[370,140],"flags":{},"order":0,"mode":4,"inputs":[{"localized_name":"오디오","name":"audio","type":"COMBO","widget":{"name":"audio"},"link":null},{"localized_name":"오디오UI","name":"audioUI","type":"AUDIO_UI","widget":{"name":"audioUI"},"link":null},{"localized_name":"업로드할 파일 선택","name":"upload","type":"AUDIOUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"localized_name":"오디오","name":"AUDIO","type":"AUDIO","links":[136]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.34","Node name for S&R":"LoadAudio"},"widgets_values":["ace_step_example.flac",null,null],"color":"#322","bgcolor":"#533"},{"id":68,"type":"VAEEncodeAudio","pos":[180,180],"size":[370,46],"flags":{},"order":8,"mode":4,"inputs":[{"localized_name":"오디오","name":"audio","type":"AUDIO","link":136},{"localized_name":"vae","name":"vae","type":"VAE","link":137}],"outputs":[{"localized_name":"잠재 데이터","name":"LATENT","type":"LATENT","links":null}],"properties":{"cnr_id":"comfy-core","ver":"0.3.34","Node name for S&R":"VAEEncodeAudio"},"widgets_values":[]},{"id":40,"type":"CheckpointLoaderSimple","pos":[180,-160],"size":[370,98],"flags":{},"order":1,"mode":0,"inputs":[{"localized_name":"체크포인트 파일명","name":"ckpt_name","type":"COMBO","widget":{"name":"ckpt_name"},"link":null}],"outputs":[{"localized_name":"모델","name":"MODEL","type":"MODEL","links":[115]},{"localized_name":"CLIP","name":"CLIP","type":"CLIP","links":[80]},{"localized_name":"VAE","name":"VAE","type":"VAE","links":[83,137]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.32","Node name for S&R":"CheckpointLoaderSimple","models":[{"name":"ace_step_v1_3.5b.safetensors","url":"https://huggingface.co/Comfy-Org/ACE-Step_ComfyUI_repackaged/resolve/main/all_in_one/ace_step_v1_3.5b.safetensors?download=true","directory":"checkpoints"}]},"widgets_values":["ace_step_v1_3.5b.safetensors"],"color":"#322","bgcolor":"#533"},{"id":48,"type":"MarkdownNote","pos":[-460,-200],"size":[610,820],"flags":{},"order":2,"mode":0,"inputs":[],"outputs":[],"title":"About ACE Step and Multi-language Input","properties":{},"widgets_values":["[Tutorial](http://docs.comfy.org/tutorials/audio/ace-step/ace-step-v1) | [教程](http://docs.comfy.org/zh-CN/tutorials/audio/ace-step/ace-step-v1)\n\n\n### Model Download\n\nDownload the following model and save it to the **ComfyUI/models/checkpoints** folder.\n[ace_step_v1_3.5b.safetensors](https://huggingface.co/Comfy-Org/ACE-Step_ComfyUI_repackaged/blob/main/all_in_one/ace_step_v1_3.5b.safetensors)\n\n\n### Multilingual Support\n\nCurrently, the implementation of multi-language support for ACE-Step V1 is achieved by uniformly converting different languages into English characters. At present, in ComfyUI, we haven't implemented the step of converting multi-languages into English. This is because if we need to implement the corresponding conversion, we have to add additional core dependencies of ComfyUI, which may lead to uncertain dependency conflicts.\n\nSo, currently, if you need to input multi-language text, you have to manually convert it into English characters to complete this process. Then, at the beginning of the corresponding `lyrics`, input the abbreviation of the corresponding language code.\n\nFor example, for Chinese, use `[zh]`, for Japanese use `[ja]`, for Korean use `[ko]`, and so on. For specific language input, please check the examples in the instructions. \n\nFor example, Chinese `[zh]`, Japanese `[ja]`, Korean `[ko]`, etc.\n\nExample:\n\n```\n[verse]\n\n[zh]wo3zou3guo4shen1ye4de5jie1dao4\n[zh]leng3feng1chui1luan4si1nian4de5piao4liang4wai4tao4\n[zh]ni3de5wei1xiao4xiang4xing1guang1hen3xuan4yao4\n[zh]zhao4liang4le5wo3gu1du2de5mei3fen1mei3miao3\n\n[chorus]\n\n[verse]​\n[ko]hamkke si-kkeuleo-un sesang-ui sodong-eul pihae​\n[ko]honja ogsang-eseo dalbich-ui eolyeompus-ileul balaboda​\n[ko]niga salang-eun lideum-i ganghan eum-ag gatdago malhaess-eo​\n[ko]han ta han tamada ma-eum-ui ondoga eolmana heojeonhanji ijge hae\n\n[bridge]\n[es]cantar mi anhelo por ti sin ocultar\n[es]como poesía y pintura, lleno de anhelo indescifrable\n[es]tu sombra es tan terca como el viento, inborrable\n[es]persiguiéndote en vuelo, brilla como cruzar una mar de nubes\n\n[chorus]\n[fr]que tu sois le vent qui souffle sur ma main\n[fr]un contact chaud comme la douce pluie printanière\n[fr]que tu sois le vent qui s'entoure de mon corps\n[fr]un amour profond qui ne s'éloignera jamais\n\n```\n\n---\n\n### 模型下载\n\n下载下面的模型并保存到 **ComfyUI/models/checkpoints** 文件夹下\n[ace_step_v1_3.5b.safetensors](https://huggingface.co/Comfy-Org/ACE-Step_ComfyUI_repackaged/blob/main/all_in_one/ace_step_v1_3.5b.safetensors)\n\n\n### 多语言支持\n\n目前 ACE-Step V1 多语言的实现是通过将不同语言统一转换为英文字符来实现的，目前在 ComfyUI 中我们并没有实现多语言转换为英文的这一步骤。因为如果需要实现对应转换，则需要增加额外的 ComfyUI 核心依赖，这将可能带来不确定的依赖冲突。\n\n所以目前如果你需要输入多语言，则需要手动转换为英文字符来实现这一过程，然后在对应 `lyrics` 开头输入对应语言代码的缩写。\n\n比如中文`[zh]` 日语 `[ja]` 韩语 `[ko]` 等，具体语言输入请查看说明中的示例\n\n"],"color":"#432","bgcolor":"#653"},{"id":60,"type":"SaveAudio","pos":[1260,40],"size":[610,112],"flags":{},"order":16,"mode":4,"inputs":[{"localized_name":"오디오","name":"audio","type":"AUDIO","link":127},{"localized_name":"파일명 접두사","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null},{"localized_name":"오디오UI","name":"audioUI","type":"AUDIO_UI","widget":{"name":"audioUI"},"link":null}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.34","Node name for S&R":"SaveAudio"},"widgets_values":["audio/ComfyUI"]},{"id":61,"type":"SaveAudioOpus","pos":[1260,220],"size":[610,136],"flags":{},"order":17,"mode":4,"inputs":[{"localized_name":"audio","name":"audio","type":"AUDIO","link":128},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null},{"localized_name":"quality","name":"quality","type":"COMBO","widget":{"name":"quality"},"link":null},{"localized_name":"audioUI","name":"audioUI","type":"AUDIO_UI","widget":{"name":"audioUI"},"link":null}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.34","Node name for S&R":"SaveAudioOpus"},"widgets_values":["audio/ComfyUI","128k"]},{"id":73,"type":"Note","pos":[1260,410],"size":[610,90],"flags":{},"order":3,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["These nodes can save audio in different formats. Currently, all the modes are Bypass. You can enable them as per your needs.\n\n这些节点可以将 audio  保存成不同格式，目前的模式都是 Bypass ，你可以按你的需要来启用"],"color":"#432","bgcolor":"#653"},{"id":44,"type":"ConditioningZeroOut","pos":[600,70],"size":[197.712890625,26],"flags":{"collapsed":true},"order":12,"mode":0,"inputs":[{"localized_name":"조건","name":"conditioning","type":"CONDITIONING","link":108}],"outputs":[{"localized_name":"조건","name":"CONDITIONING","type":"CONDITIONING","links":[120]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.32","Node name for S&R":"ConditioningZeroOut"},"widgets_values":[]},{"id":51,"type":"ModelSamplingSD3","pos":[590,-40],"size":[330,60],"flags":{"collapsed":false},"order":7,"mode":0,"inputs":[{"localized_name":"모델","name":"model","type":"MODEL","link":115},{"localized_name":"시프트","name":"shift","type":"FLOAT","widget":{"name":"shift"},"link":null}],"outputs":[{"localized_name":"모델","name":"MODEL","type":"MODEL","links":[113]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.34","Node name for S&R":"ModelSamplingSD3"},"widgets_values":[5.000000000000001]},{"id":50,"type":"LatentOperationTonemapReinhard","pos":[590,-160],"size":[330,58],"flags":{},"order":4,"mode":0,"inputs":[{"localized_name":"배율","name":"multiplier","type":"FLOAT","widget":{"name":"multiplier"},"link":null}],"outputs":[{"localized_name":"잠재 연산","name":"LATENT_OPERATION","type":"LATENT_OPERATION","links":[114]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.34","Node name for S&R":"LatentOperationTonemapReinhard"},"widgets_values":[1.0000000000000002]},{"id":52,"type":"KSampler","pos":[940,-40],"size":[290,262],"flags":{},"order":13,"mode":0,"inputs":[{"localized_name":"모델","name":"model","type":"MODEL","link":121},{"localized_name":"긍정 조건","name":"positive","type":"CONDITIONING","link":117},{"localized_name":"부정 조건","name":"negative","type":"CONDITIONING","link":120},{"localized_name":"잠재 데이터","name":"latent_image","type":"LATENT","link":119},{"localized_name":"시드","name":"seed","type":"INT","widget":{"name":"seed"},"link":null},{"localized_name":"스텝 수","name":"steps","type":"INT","widget":{"name":"steps"},"link":null},{"localized_name":"cfg","name":"cfg","type":"FLOAT","widget":{"name":"cfg"},"link":null},{"localized_name":"샘플러 이름","name":"sampler_name","type":"COMBO","widget":{"name":"sampler_name"},"link":null},{"localized_name":"스케줄러","name":"scheduler","type":"COMBO","widget":{"name":"scheduler"},"link":null},{"localized_name":"노이즈 제거양","name":"denoise","type":"FLOAT","widget":{"name":"denoise"},"link":null}],"outputs":[{"localized_name":"잠재 데이터","name":"LATENT","type":"LATENT","slot_index":0,"links":[122]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.34","Node name for S&R":"KSampler"},"widgets_values":[449160745338414,"randomize",50,5,"euler","simple",1]},{"id":14,"type":"TextEncodeAceStepAudio","pos":[590,120],"size":[340,500],"flags":{},"order":9,"mode":0,"inputs":[{"localized_name":"clip","name":"clip","type":"CLIP","link":80},{"localized_name":"tags","name":"tags","type":"STRING","widget":{"name":"tags"},"link":null},{"localized_name":"lyrics","name":"lyrics","type":"STRING","widget":{"name":"lyrics"},"link":139},{"localized_name":"lyrics_strength","name":"lyrics_strength","type":"FLOAT","widget":{"name":"lyrics_strength"},"link":null}],"outputs":[{"localized_name":"조건","name":"CONDITIONING","type":"CONDITIONING","links":[108,117]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.32","Node name for S&R":"TextEncodeAceStepAudio"},"widgets_values":["anime, soft female vocals, kawaii pop, j-pop, childish, piano, guitar, synthesizer, fast, happy, cheerful, lighthearted\t\n","[Verse 1]  \n지친 하루 끝에 앉아  \n잠시 눈을 감아 봐  \n바람은 너를 감싸고  \n하늘은 너를 안아줘  \n\n[Pre-Chorus]  \n모든 걱정 내려놓고  \n작은 숨결에 기대어  \n따뜻한 빛이 번져와  \n너의 마음을 비추네  \n\n[Chorus]  \n편히 쉬어, 내 곁에서  \n세상 모든 소음 잊어  \n너의 두 눈 속에 담긴  \n평온을 지켜줄게  \n\n[Verse 2]  \n끝나지 않을 것 같던 길도  \n언젠가는 멈추고  \n새로운 아침 찾아와  \n네게 다시 미소 줄 거야  \n\n[Chorus]  \n편히 쉬어, 내 곁에서  \n세상 모든 소음 잊어  \n너의 두 눈 속에 담긴  \n평온을 지켜줄게  \n\n[Bridge]  \n흔들리던 마음도  \n이 순간은 괜찮아  \n너의 이름을 부르면  \n모든 게 가벼워져  \n\n[Outro]  \n이 밤이 지나 내일에도  \n따뜻한 숨결을 안고  \n너는 다시 일어설 수 있어  \n사랑으로 채워줄게  \n",0.9900000000000002]},{"id":74,"type":"LyricsLangSwitch","pos":[151.11111450195312,675.9444580078125],"size":[400,200],"flags":{},"order":6,"mode":0,"inputs":[{"localized_name":"lyrics","name":"lyrics","type":"STRING","widget":{"name":"lyrics"},"link":null},{"localized_name":"language","name":"language","type":"COMBO","widget":{"name":"language"},"link":null},{"localized_name":"threshold","name":"threshold","type":"FLOAT","widget":{"name":"threshold"},"link":null}],"outputs":[{"localized_name":"lyrics","name":"lyrics","type":"STRING","links":[139,140]}],"properties":{"cnr_id":"ace-step","ver":"1.1.6","Node name for S&R":"LyricsLangSwitch"},"widgets_values":["[Verse 1]  \n지친 하루 끝에 앉아  \n잠시 눈을 감아 봐  \n바람은 너를 감싸고  \n하늘은 너를 안아줘  \n\n[Pre-Chorus]  \n모든 걱정 내려놓고  \n작은 숨결에 기대어  \n따뜻한 빛이 번져와  \n너의 마음을 비추네  \n\n[Chorus]  \n편히 쉬어, 내 곁에서  \n세상 모든 소음 잊어  \n너의 두 눈 속에 담긴  \n평온을 지켜줄게  \n\n[Verse 2]  \n끝나지 않을 것 같던 길도  \n언젠가는 멈추고  \n새로운 아침 찾아와  \n네게 다시 미소 줄 거야  \n\n[Chorus]  \n편히 쉬어, 내 곁에서  \n세상 모든 소음 잊어  \n너의 두 눈 속에 담긴  \n평온을 지켜줄게  \n\n[Bridge]  \n흔들리던 마음도  \n이 순간은 괜찮아  \n너의 이름을 부르면  \n모든 게 가벼워져  \n\n[Outro]  \n이 밤이 지나 내일에도  \n따뜻한 숨결을 안고  \n너는 다시 일어설 수 있어  \n사랑으로 채워줄게  \n","Korean",0.8]},{"id":75,"type":"PreviewAny","pos":[629.111083984375,664.8055419921875],"size":[495.7896423339844,401],"flags":{},"order":10,"mode":0,"inputs":[{"localized_name":"소스","name":"source","type":"*","link":140}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.54","Node name for S&R":"PreviewAny"},"widgets_values":[]},{"id":59,"type":"SaveAudioMP3","pos":[1260,-160],"size":[610,136],"flags":{},"order":15,"mode":0,"inputs":[{"localized_name":"audio","name":"audio","type":"AUDIO","link":126},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null},{"localized_name":"quality","name":"quality","type":"COMBO","widget":{"name":"quality"},"link":null},{"localized_name":"audioUI","name":"audioUI","type":"AUDIO_UI","widget":{"name":"audioUI"},"link":null}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.34","Node name for S&R":"SaveAudioMP3"},"widgets_values":["audio/ComfyUI","V0"]},{"id":18,"type":"VAEDecodeAudio","pos":[1080,270],"size":[158.65390014648438,46],"flags":{"collapsed":false},"order":14,"mode":0,"inputs":[{"localized_name":"잠재 오디오","name":"samples","type":"LATENT","link":122},{"localized_name":"vae","name":"vae","type":"VAE","link":83}],"outputs":[{"localized_name":"오디오","name":"AUDIO","type":"AUDIO","links":[126,127,128,141]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.32","Node name for S&R":"VAEDecodeAudio"},"widgets_values":[]},{"id":76,"type":"PreviewAudio","pos":[1256.2552490234375,677.5400390625],"size":[598,135],"flags":{},"order":18,"mode":0,"inputs":[{"localized_name":"오디오","name":"audio","type":"AUDIO","link":141},{"localized_name":"오디오UI","name":"audioUI","type":"AUDIO_UI","widget":{"name":"audioUI"},"link":null}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.54","Node name for S&R":"PreviewAudio"},"widgets_values":[]},{"id":17,"type":"EmptyAceStepLatentAudio","pos":[180,50],"size":[370,82],"flags":{},"order":5,"mode":0,"inputs":[{"localized_name":"seconds","name":"seconds","type":"FLOAT","widget":{"name":"seconds"},"link":null},{"localized_name":"batch_size","name":"batch_size","type":"INT","widget":{"name":"batch_size"},"link":null}],"outputs":[{"localized_name":"잠재 데이터","name":"LATENT","type":"LATENT","links":[119]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.32","Node name for S&R":"EmptyAceStepLatentAudio"},"widgets_values":[120,1]}],"links":[[80,40,1,14,0,"CLIP"],[83,40,2,18,1,"VAE"],[108,14,0,44,0,"CONDITIONING"],[113,51,0,49,0,"MODEL"],[114,50,0,49,1,"LATENT_OPERATION"],[115,40,0,51,0,"MODEL"],[117,14,0,52,1,"CONDITIONING"],[119,17,0,52,3,"LATENT"],[120,44,0,52,2,"CONDITIONING"],[121,49,0,52,0,"MODEL"],[122,52,0,18,0,"LATENT"],[126,18,0,59,0,"AUDIO"],[127,18,0,60,0,"AUDIO"],[128,18,0,61,0,"AUDIO"],[136,64,0,68,0,"AUDIO"],[137,40,2,68,1,"VAE"],[139,74,0,14,2,"STRING"],[140,74,0,75,0,"*"],[141,18,0,76,0,"AUDIO"]],"groups":[{"id":1,"title":"Load model here","bounding":[170,-230,390,180],"color":"#3f789e","font_size":24,"flags":{}},{"id":4,"title":"Latent","bounding":[170,-30,390,280],"color":"#3f789e","font_size":24,"flags":{}},{"id":5,"title":"Adjust the vocal volume","bounding":[580,-230,350,140],"color":"#3f789e","font_size":24,"flags":{}},{"id":6,"title":"For repainting","bounding":[170,270,390,223.60000610351562],"color":"#3f789e","font_size":24,"flags":{}},{"id":7,"title":"Output","bounding":[1250,-230,630,760],"color":"#3f789e","font_size":24,"flags":{}}],"config":{},"extra":{"ds":{"scale":1.3310000000000004,"offset":[-8.755572251440185,260.6763674962677]},"frontendVersion":"1.19.9","node_versions":{"comfy-core":"0.3.34","ace-step":"06f751d65491c9077fa2bc9b06d2c6f2a90e4c56"},"VHS_latentpreview":false,"VHS_latentpreviewrate":0,"VHS_MetadataImage":true,"VHS_KeepIntermediate":true},"version":0.4}